/**
 * @file vector_processor.h
 * @brief Класс для обработки векторных вычислений
 * 
 * Определяет класс VectorProcessor для вычисления произведений элементов векторов
 * с контролем переполнения. Предоставляет статические методы для работы
 * как с отдельными векторами, так и с коллекциями векторов.
 * 
 * @note Все методы статические - не требуется создание экземпляра класса
 * @see vector_processor.cpp
 */

#ifndef VECTOR_PROCESSOR_H
#define VECTOR_PROCESSOR_H

#include "types.h"
#include <cstdint>
#include <vector>

/**
 * @brief Класс для векторных вычислений
 * 
 * Специализируется на вычислении произведений элементов векторов
 * с корректной обработкой переполнения 32-битных целых чисел.
 * 
 * @note Использует 64-битную арифметику для промежуточных вычислений
 * @note Возвращает INT32_MAX/INT32_MIN при переполнении
 */
class VectorProcessor {
public:
    /**
     * @brief Вычисляет произведение элементов вектора
     * 
     * @param vector Входной вектор целых чисел
     * @return int32_t Произведение элементов или граничное значение при переполнении
     * 
     * @details
     * Особенности:
     * - Для пустого вектора возвращает 0
     * - Использует 64-битные вычисления для предотвращения промежуточного переполнения
     * - Проверяет переполнение перед каждым умножением
     * - При переполнении возвращает INT32_MAX или INT32_MIN в зависимости от знака
     * 
     * @note Время выполнения: O(n), где n - размер вектора
     */
    static int32_t calculate_product(const Vector& vector);
    
    /**
     * @brief Вычисляет произведения для коллекции векторов
     * 
     * @param vectors Коллекция векторов для обработки
     * @return std::vector<int32_t> Вектор произведений для каждого входного вектора
     * 
     * @details
     * Применяет calculate_product() к каждому вектору в коллекции.
     * Сохраняет порядок результатов соответствующим порядку входных векторов.
     * 
     * @note Время выполнения: O(total_elements), где total_elements - сумма размеров всех векторов
     */
    static std::vector<int32_t> multiply_vectors(const std::vector<Vector>& vectors);
};

#endif
