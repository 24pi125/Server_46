\hypertarget{classSession}{}\subsection{Documentation}
\label{classSession}\index{Session@{Session}}


Класс обработки клиентской сессии  




{\ttfamily \#include $<$session.\+h$>$}



Граф связей класса Session\+:
% FIG 0
\doxysubsubsection*{Documentation}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classSession_ab0a926252af0518b654fcc4e52f18c7e}{Session}} (int \mbox{\hyperlink{classSession_a968ea00cae0e5293555a8223bff7b42d}{client\+\_\+socket}}, std\+::unordered\+\_\+map$<$ std\+::string, std\+::string $>$ \&\mbox{\hyperlink{classSession_a931c068afeec16b499173fa4c558826f}{clients}}, \mbox{\hyperlink{classLogger}{Logger}} \&\mbox{\hyperlink{classSession_aa613cae4a6bcabe30311dcee7f57804e}{logger}})
\begin{DoxyCompactList}\small\item\em Конструктор сессии \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classSession_a72b04c0d0be04cba369af88f68c32296}{handle}} ()
\begin{DoxyCompactList}\small\item\em Основной метод обработки сессии \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classSession_a8b1eb5ebfd3c900d71c991540b7a249f}{send\+\_\+text}} (const std\+::string \&text)
\begin{DoxyCompactList}\small\item\em Отправляет текстовые данные клиенту \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Documentation}
\begin{DoxyCompactItemize}
\item 
std\+::string \mbox{\hyperlink{classSession_ae353103b2780ae885b9bda8ebc2cae9b}{calculate\+\_\+md5}} (const std\+::string \&data)
\begin{DoxyCompactList}\small\item\em Вычисляет MD5 хэш \end{DoxyCompactList}\item 
int32\+\_\+t \mbox{\hyperlink{classSession_adf4123c01bbcc19682958fea79b805cd}{calculate\+\_\+vector\+\_\+product}} (const std\+::vector$<$ int32\+\_\+t $>$ \&vector)
\begin{DoxyCompactList}\small\item\em Вычисляет произведение вектора \end{DoxyCompactList}\item 
std\+::string \mbox{\hyperlink{classSession_a41d291380460c02f23813df0cc4ed94a}{extract\+\_\+from\+\_\+buffer\+\_\+exact}} (size\+\_\+t length)
\begin{DoxyCompactList}\small\item\em Извлекает точное количество байт \end{DoxyCompactList}\item 
std\+::string \mbox{\hyperlink{classSession_a729514d9b12818e9da3d17fdae617363}{extract\+\_\+from\+\_\+buffer\+\_\+until\+\_\+non\+\_\+hex}} ()
\begin{DoxyCompactList}\small\item\em Извлекает hex символы до не-\/hex. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classSession_a2e0fc5d9d7b38a92f3bee0bb5c363283}{process\+\_\+vectors}} ()
\begin{DoxyCompactList}\small\item\em Основная логика обработки векторов \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classSession_ae8293633ae069f781eef8439c9ed0092}{receive\+\_\+to\+\_\+buffer}} ()
\begin{DoxyCompactList}\small\item\em Принимает данные в буфер \end{DoxyCompactList}\item 
uint32\+\_\+t \mbox{\hyperlink{classSession_ae40fd3552757131de8d18b1503ad206b}{receive\+\_\+uint32}} ()
\begin{DoxyCompactList}\small\item\em Принимает 32-\/битное беззнаковое число \end{DoxyCompactList}\item 
std\+::vector$<$ int32\+\_\+t $>$ \mbox{\hyperlink{classSession_a24067698fd194d9764917d3e67c9ad58}{receive\+\_\+vector}} (uint32\+\_\+t size)
\begin{DoxyCompactList}\small\item\em Принимает вектор заданного размера \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classSession_ab4712b6686de331984ce45f67a9d36ab}{send\+\_\+int32}} (int32\+\_\+t value)
\begin{DoxyCompactList}\small\item\em Отправляет 32-\/битное знаковое число \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classSession_a25fdf9812d754cbc14ba8ea1afb21724}{send\+\_\+uint32}} (uint32\+\_\+t value)
\begin{DoxyCompactList}\small\item\em Отправляет 32-\/битное беззнаковое число \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classSession_a5f9689affdf8fa192f5ff21ac2b9198d}{verify\+\_\+authentication}} (const std\+::string \&login, const std\+::string \&salt, const std\+::string \&received\+\_\+hash)
\begin{DoxyCompactList}\small\item\em Проверяет аутентификацию клиента \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Documentation}
\begin{DoxyCompactItemize}
\item 
int \mbox{\hyperlink{classSession_a968ea00cae0e5293555a8223bff7b42d}{client\+\_\+socket}}
\begin{DoxyCompactList}\small\item\em Сокет клиента \end{DoxyCompactList}\item 
std\+::unordered\+\_\+map$<$ std\+::string, std\+::string $>$ \& \mbox{\hyperlink{classSession_a931c068afeec16b499173fa4c558826f}{clients}}
\begin{DoxyCompactList}\small\item\em Ссылка на базу клиентов \end{DoxyCompactList}\item 
\mbox{\hyperlink{classLogger}{Logger}} \& \mbox{\hyperlink{classSession_aa613cae4a6bcabe30311dcee7f57804e}{logger}}
\begin{DoxyCompactList}\small\item\em Ссылка на логгер \end{DoxyCompactList}\item 
std\+::string \mbox{\hyperlink{classSession_aebbafa30bd191ee057424d1fcf5b8c0d}{receive\+\_\+buffer}}
\begin{DoxyCompactList}\small\item\em Буфер накопленных данных \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsubsection{Documentation}
Класс обработки клиентской сессии 

Обрабатывает полный цикл взаимодействия с клиентом\+:
\begin{DoxyEnumerate}
\item Прием и проверка аутентификационных данных
\item Прием векторов для обработки
\item Вычисление произведений элементов векторов
\item Отправка результатов обратно клиенту
\end{DoxyEnumerate}

\begin{DoxyWarning}{Documentation}
Класс не является потокобезопасным, должен использоваться по одной сессии на поток 
\end{DoxyWarning}


См. определение в файле \mbox{\hyperlink{session_8h_source}{session.\+h}} строка \mbox{\hyperlink{session_8h_source_l00033}{33}}



\doxysubsubsection{Documentation}
\mbox{\Hypertarget{classSession_ab0a926252af0518b654fcc4e52f18c7e}\label{classSession_ab0a926252af0518b654fcc4e52f18c7e}} 
\index{Session@{Session}!Session@{Session}}
\index{Session@{Session}!Session@{Session}}
\doxyparagraph{\texorpdfstring{Session()}{Session()}}
{\footnotesize\ttfamily Session\+::\+Session (\begin{DoxyParamCaption}\item[{int}]{client\+\_\+socket,  }\item[{std\+::unordered\+\_\+map$<$ std\+::string, std\+::string $>$ \&}]{clients,  }\item[{\mbox{\hyperlink{classLogger}{Logger}} \&}]{logger }\end{DoxyParamCaption})}



Конструктор сессии 


\begin{DoxyParams}{Documentation}
{\em client\+\_\+socket} & Сокет подключенного клиента \\
\hline
{\em clients} & База данных клиентов \\
\hline
{\em logger} & Логгер для записи событий \\
\hline
\end{DoxyParams}


См. определение в файле \mbox{\hyperlink{session_8cpp_source}{session.\+cpp}} строка \mbox{\hyperlink{session_8cpp_source_l00035}{35}}



\doxysubsubsection{Documentation}
\mbox{\Hypertarget{classSession_ae353103b2780ae885b9bda8ebc2cae9b}\label{classSession_ae353103b2780ae885b9bda8ebc2cae9b}} 
\index{Session@{Session}!calculate\_md5@{calculate\_md5}}
\index{calculate\_md5@{calculate\_md5}!Session@{Session}}
\doxyparagraph{\texorpdfstring{calculate\_md5()}{calculate\_md5()}}
{\footnotesize\ttfamily std\+::string Session\+::calculate\+\_\+md5 (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{data }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Вычисляет MD5 хэш 

Вычисление MD5 хэша


\begin{DoxyParams}{Documentation}
{\em data} & Данные для хэширования \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Documentation}
std\+::string MD5 хэш в hex формате (32 символа, lowercase)
\end{DoxyReturn}
\begin{DoxyNote}{Documentation}
Использует Open\+SSL MD5 implementation 
\end{DoxyNote}


См. определение в файле \mbox{\hyperlink{session_8cpp_source}{session.\+cpp}} строка \mbox{\hyperlink{session_8cpp_source_l00138}{138}}



Используется в \mbox{\hyperlink{session_8cpp_source_l00213}{verify\+\_\+authentication()}}.

Граф вызова функции\+:
% FIG 1
\mbox{\Hypertarget{classSession_adf4123c01bbcc19682958fea79b805cd}\label{classSession_adf4123c01bbcc19682958fea79b805cd}} 
\index{Session@{Session}!calculate\_vector\_product@{calculate\_vector\_product}}
\index{calculate\_vector\_product@{calculate\_vector\_product}!Session@{Session}}
\doxyparagraph{\texorpdfstring{calculate\_vector\_product()}{calculate\_vector\_product()}}
{\footnotesize\ttfamily int32\+\_\+t Session\+::calculate\+\_\+vector\+\_\+product (\begin{DoxyParamCaption}\item[{const std\+::vector$<$ int32\+\_\+t $>$ \&}]{vector }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Вычисляет произведение вектора 

Вычисление произведения элементов вектора


\begin{DoxyParams}{Documentation}
{\em vector} & Вектор целых чисел \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Documentation}
int32\+\_\+t Произведение элементов с контролем переполнения
\end{DoxyReturn}
Алгоритм\+:
\begin{DoxyEnumerate}
\item Использует 64-\/битные вычисления для предотвращения промежуточного переполнения
\item Проверяет переполнение перед каждым умножением
\item При переполнении возвращает INT32\+\_\+\+MAX или INT32\+\_\+\+MIN
\end{DoxyEnumerate}

\begin{DoxyNote}{Documentation}
Для пустого вектора возвращает 0 
\end{DoxyNote}


См. определение в файле \mbox{\hyperlink{session_8cpp_source}{session.\+cpp}} строка \mbox{\hyperlink{session_8cpp_source_l00165}{165}}



Используется в \mbox{\hyperlink{session_8cpp_source_l00391}{process\+\_\+vectors()}}.

Граф вызова функции\+:
% FIG 2
\mbox{\Hypertarget{classSession_a41d291380460c02f23813df0cc4ed94a}\label{classSession_a41d291380460c02f23813df0cc4ed94a}} 
\index{Session@{Session}!extract\_from\_buffer\_exact@{extract\_from\_buffer\_exact}}
\index{extract\_from\_buffer\_exact@{extract\_from\_buffer\_exact}!Session@{Session}}
\doxyparagraph{\texorpdfstring{extract\_from\_buffer\_exact()}{extract\_from\_buffer\_exact()}}
{\footnotesize\ttfamily std\+::string Session\+::extract\+\_\+from\+\_\+buffer\+\_\+exact (\begin{DoxyParamCaption}\item[{size\+\_\+t}]{length }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Извлекает точное количество байт 

Извлечение точного количества байт из буфера


\begin{DoxyParams}{Documentation}
{\em length} & Количество байт для извлечения \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Documentation}
std\+::string Извлеченные данные
\end{DoxyReturn}
Если в буфере недостаточно данных, вызывает \mbox{\hyperlink{classSession_ae8293633ae069f781eef8439c9ed0092}{receive\+\_\+to\+\_\+buffer()}} до тех пор, пока не наберется нужное количество байт.

\begin{DoxyNote}{Documentation}
Удаляет извлеченные данные из буфера 
\end{DoxyNote}


См. определение в файле \mbox{\hyperlink{session_8cpp_source}{session.\+cpp}} строка \mbox{\hyperlink{session_8cpp_source_l00094}{94}}



Перекрестные ссылки \mbox{\hyperlink{session_8h_source_l00040}{receive\+\_\+buffer}} и \mbox{\hyperlink{session_8cpp_source_l00068}{receive\+\_\+to\+\_\+buffer()}}.



Используется в \mbox{\hyperlink{session_8cpp_source_l00296}{receive\+\_\+uint32()}} и \mbox{\hyperlink{session_8cpp_source_l00311}{receive\+\_\+vector()}}.

Граф вызовов\+:
% FIG 3
Граф вызова функции\+:
% FIG 4
\mbox{\Hypertarget{classSession_a729514d9b12818e9da3d17fdae617363}\label{classSession_a729514d9b12818e9da3d17fdae617363}} 
\index{Session@{Session}!extract\_from\_buffer\_until\_non\_hex@{extract\_from\_buffer\_until\_non\_hex}}
\index{extract\_from\_buffer\_until\_non\_hex@{extract\_from\_buffer\_until\_non\_hex}!Session@{Session}}
\doxyparagraph{\texorpdfstring{extract\_from\_buffer\_until\_non\_hex()}{extract\_from\_buffer\_until\_non\_hex()}}
{\footnotesize\ttfamily std\+::string Session\+::extract\+\_\+from\+\_\+buffer\+\_\+until\+\_\+non\+\_\+hex (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Извлекает hex символы до не-\/hex. 

Извлечение hex символов из буфера до не-\/hex символа

\begin{DoxyReturn}{Documentation}
std\+::string Извлеченная последовательность hex символов
\end{DoxyReturn}
\begin{DoxyNote}{Documentation}
Используется для извлечения соли и хэша из потока данных 
\end{DoxyNote}


См. определение в файле \mbox{\hyperlink{session_8cpp_source}{session.\+cpp}} строка \mbox{\hyperlink{session_8cpp_source_l00354}{354}}



Перекрестные ссылки \mbox{\hyperlink{session_8h_source_l00040}{receive\+\_\+buffer}}.

\mbox{\Hypertarget{classSession_a72b04c0d0be04cba369af88f68c32296}\label{classSession_a72b04c0d0be04cba369af88f68c32296}} 
\index{Session@{Session}!handle@{handle}}
\index{handle@{handle}!Session@{Session}}
\doxyparagraph{\texorpdfstring{handle()}{handle()}}
{\footnotesize\ttfamily void Session\+::handle (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Основной метод обработки сессии 

Запускает обработку клиентской сессии. Выполняет аутентификацию, прием данных, вычисления и отправку результатов.

\begin{DoxyNote}{Documentation}
Автоматически закрывает сокет при завершении 
\end{DoxyNote}

\begin{DoxyExceptions}{Documentation}
{\em std\+::exception} & при критических ошибках обработки\\
\hline
\end{DoxyExceptions}
Выполняет полный цикл обработки клиентского запроса\+:
\begin{DoxyEnumerate}
\item Аутентификация клиента
\item Прием векторов данных
\item Вычисление произведений
\item Отправка результатов
\end{DoxyEnumerate}

\begin{DoxyNote}{Documentation}
Закрывает клиентский сокет при завершении (успешном или с ошибкой) 
\end{DoxyNote}

\begin{DoxyExceptions}{Documentation}
{\em std\+::exception} & перехватывает и логирует исключения \\
\hline
\end{DoxyExceptions}


См. определение в файле \mbox{\hyperlink{session_8cpp_source}{session.\+cpp}} строка \mbox{\hyperlink{session_8cpp_source_l00051}{51}}



Перекрестные ссылки \mbox{\hyperlink{session_8h_source_l00035}{client\+\_\+socket}}, \mbox{\hyperlink{logger_8cpp_source_l00043}{Logger\+::log()}}, \mbox{\hyperlink{session_8h_source_l00037}{logger}} и \mbox{\hyperlink{session_8cpp_source_l00391}{process\+\_\+vectors()}}.



Используется в \mbox{\hyperlink{server_8cpp_source_l00149}{Server\+::accept\+\_\+connections()}}.

Граф вызовов\+:
% FIG 5
Граф вызова функции\+:
% FIG 6
\mbox{\Hypertarget{classSession_a2e0fc5d9d7b38a92f3bee0bb5c363283}\label{classSession_a2e0fc5d9d7b38a92f3bee0bb5c363283}} 
\index{Session@{Session}!process\_vectors@{process\_vectors}}
\index{process\_vectors@{process\_vectors}!Session@{Session}}
\doxyparagraph{\texorpdfstring{process\_vectors()}{process\_vectors()}}
{\footnotesize\ttfamily void Session\+::process\+\_\+vectors (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Основная логика обработки векторов 

Выполняет полный цикл обработки\+:
\begin{DoxyEnumerate}
\item Поиск и парсинг аутентификационных данных (48 hex символов)
\item Проверка аутентификации
\item Прием количества векторов
\item Обработка каждого вектора
\item Отправка результатов
\end{DoxyEnumerate}

Формат входных данных\+: \mbox{[}логин\mbox{]}\mbox{[}16 hex соль\mbox{]}\mbox{[}32 hex хэш\mbox{]}\mbox{[}количество\+\_\+векторов\mbox{]}\mbox{[}вектор1\mbox{]}...\mbox{[}векторN\mbox{]}


\begin{DoxyExceptions}{Documentation}
{\em std\+::exception} & при ошибках парсинга или сетевого взаимодействия \\
\hline
\end{DoxyExceptions}


См. определение в файле \mbox{\hyperlink{session_8cpp_source}{session.\+cpp}} строка \mbox{\hyperlink{session_8cpp_source_l00391}{391}}



Перекрестные ссылки \mbox{\hyperlink{session_8cpp_source_l00165}{calculate\+\_\+vector\+\_\+product()}}, \mbox{\hyperlink{logger_8cpp_source_l00043}{Logger\+::log()}}, \mbox{\hyperlink{session_8h_source_l00037}{logger}}, \mbox{\hyperlink{session_8h_source_l00040}{receive\+\_\+buffer}}, \mbox{\hyperlink{session_8cpp_source_l00068}{receive\+\_\+to\+\_\+buffer()}}, \mbox{\hyperlink{session_8cpp_source_l00296}{receive\+\_\+uint32()}}, \mbox{\hyperlink{session_8cpp_source_l00311}{receive\+\_\+vector()}}, \mbox{\hyperlink{session_8cpp_source_l00343}{send\+\_\+int32()}}, \mbox{\hyperlink{session_8cpp_source_l00114}{send\+\_\+text()}} и \mbox{\hyperlink{session_8cpp_source_l00213}{verify\+\_\+authentication()}}.



Используется в \mbox{\hyperlink{session_8cpp_source_l00051}{handle()}}.

Граф вызовов\+:
% FIG 7
Граф вызова функции\+:
% FIG 8
\mbox{\Hypertarget{classSession_ae8293633ae069f781eef8439c9ed0092}\label{classSession_ae8293633ae069f781eef8439c9ed0092}} 
\index{Session@{Session}!receive\_to\_buffer@{receive\_to\_buffer}}
\index{receive\_to\_buffer@{receive\_to\_buffer}!Session@{Session}}
\doxyparagraph{\texorpdfstring{receive\_to\_buffer()}{receive\_to\_buffer()}}
{\footnotesize\ttfamily void Session\+::receive\+\_\+to\+\_\+buffer (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Принимает данные в буфер 

Прием данных в буфер

Принимает данные из сокета и добавляет их во внутренний буфер. Блокирующая операция -\/ ждет поступления данных.


\begin{DoxyExceptions}{Documentation}
{\em std\+::runtime\+\_\+error} & при закрытии соединения или ошибке приема \\
\hline
\end{DoxyExceptions}


См. определение в файле \mbox{\hyperlink{session_8cpp_source}{session.\+cpp}} строка \mbox{\hyperlink{session_8cpp_source_l00068}{68}}



Перекрестные ссылки \mbox{\hyperlink{session_8h_source_l00035}{client\+\_\+socket}} и \mbox{\hyperlink{session_8h_source_l00040}{receive\+\_\+buffer}}.



Используется в \mbox{\hyperlink{session_8cpp_source_l00094}{extract\+\_\+from\+\_\+buffer\+\_\+exact()}} и \mbox{\hyperlink{session_8cpp_source_l00391}{process\+\_\+vectors()}}.

Граф вызова функции\+:
% FIG 9
\mbox{\Hypertarget{classSession_ae40fd3552757131de8d18b1503ad206b}\label{classSession_ae40fd3552757131de8d18b1503ad206b}} 
\index{Session@{Session}!receive\_uint32@{receive\_uint32}}
\index{receive\_uint32@{receive\_uint32}!Session@{Session}}
\doxyparagraph{\texorpdfstring{receive\_uint32()}{receive\_uint32()}}
{\footnotesize\ttfamily uint32\+\_\+t Session\+::receive\+\_\+uint32 (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Принимает 32-\/битное беззнаковое число 

Прием 32-\/битного беззнакового числа

\begin{DoxyReturn}{Documentation}
uint32\+\_\+t Принятое число
\end{DoxyReturn}
\begin{DoxyNote}{Documentation}
Данные ожидаются в сетевом порядке байт (big-\/endian) 

Не использует ntohl() -\/ предполагается что данные уже в правильном порядке 
\end{DoxyNote}


См. определение в файле \mbox{\hyperlink{session_8cpp_source}{session.\+cpp}} строка \mbox{\hyperlink{session_8cpp_source_l00296}{296}}



Перекрестные ссылки \mbox{\hyperlink{session_8cpp_source_l00094}{extract\+\_\+from\+\_\+buffer\+\_\+exact()}}.



Используется в \mbox{\hyperlink{session_8cpp_source_l00391}{process\+\_\+vectors()}}.

Граф вызовов\+:
% FIG 10
Граф вызова функции\+:
% FIG 11
\mbox{\Hypertarget{classSession_a24067698fd194d9764917d3e67c9ad58}\label{classSession_a24067698fd194d9764917d3e67c9ad58}} 
\index{Session@{Session}!receive\_vector@{receive\_vector}}
\index{receive\_vector@{receive\_vector}!Session@{Session}}
\doxyparagraph{\texorpdfstring{receive\_vector()}{receive\_vector()}}
{\footnotesize\ttfamily std\+::vector$<$ int32\+\_\+t $>$ Session\+::receive\+\_\+vector (\begin{DoxyParamCaption}\item[{uint32\+\_\+t}]{size }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Принимает вектор заданного размера 

Прием вектора целых чисел


\begin{DoxyParams}{Documentation}
{\em size} & Количество элементов в векторе \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Documentation}
std\+::vector$<$int32\+\_\+t$>$ Принятый вектор
\end{DoxyReturn}
\begin{DoxyNote}{Documentation}
Каждый элемент -\/ 4 байта в сетевом порядке байт 
\end{DoxyNote}


См. определение в файле \mbox{\hyperlink{session_8cpp_source}{session.\+cpp}} строка \mbox{\hyperlink{session_8cpp_source_l00311}{311}}



Перекрестные ссылки \mbox{\hyperlink{session_8cpp_source_l00094}{extract\+\_\+from\+\_\+buffer\+\_\+exact()}}.



Используется в \mbox{\hyperlink{session_8cpp_source_l00391}{process\+\_\+vectors()}}.

Граф вызовов\+:
% FIG 12
Граф вызова функции\+:
% FIG 13
\mbox{\Hypertarget{classSession_ab4712b6686de331984ce45f67a9d36ab}\label{classSession_ab4712b6686de331984ce45f67a9d36ab}} 
\index{Session@{Session}!send\_int32@{send\_int32}}
\index{send\_int32@{send\_int32}!Session@{Session}}
\doxyparagraph{\texorpdfstring{send\_int32()}{send\_int32()}}
{\footnotesize\ttfamily void Session\+::send\+\_\+int32 (\begin{DoxyParamCaption}\item[{int32\+\_\+t}]{value }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Отправляет 32-\/битное знаковое число 

Отправка 32-\/битного знакового числа


\begin{DoxyParams}{Documentation}
{\em value} & Число для отправки \\
\hline
\end{DoxyParams}


См. определение в файле \mbox{\hyperlink{session_8cpp_source}{session.\+cpp}} строка \mbox{\hyperlink{session_8cpp_source_l00343}{343}}



Перекрестные ссылки \mbox{\hyperlink{session_8cpp_source_l00114}{send\+\_\+text()}}.



Используется в \mbox{\hyperlink{session_8cpp_source_l00391}{process\+\_\+vectors()}}.

Граф вызовов\+:
% FIG 14
Граф вызова функции\+:
% FIG 15
\mbox{\Hypertarget{classSession_a8b1eb5ebfd3c900d71c991540b7a249f}\label{classSession_a8b1eb5ebfd3c900d71c991540b7a249f}} 
\index{Session@{Session}!send\_text@{send\_text}}
\index{send\_text@{send\_text}!Session@{Session}}
\doxyparagraph{\texorpdfstring{send\_text()}{send\_text()}}
{\footnotesize\ttfamily bool Session\+::send\+\_\+text (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{text }\end{DoxyParamCaption})}



Отправляет текстовые данные клиенту 

Отправка текста клиенту


\begin{DoxyParams}{Documentation}
{\em text} & Текст для отправки \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Documentation}
bool true если отправка успешна, false при ошибке
\end{DoxyReturn}

\begin{DoxyParams}{Documentation}
{\em text} & Текст для отправки \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Documentation}
bool true если отправка успешна, false при ошибке
\end{DoxyReturn}
Отправляет данные частями, пока все не будет отправлено. Обрабатывает частичную отправку (short write). 

См. определение в файле \mbox{\hyperlink{session_8cpp_source}{session.\+cpp}} строка \mbox{\hyperlink{session_8cpp_source_l00114}{114}}



Перекрестные ссылки \mbox{\hyperlink{session_8h_source_l00035}{client\+\_\+socket}}.



Используется в \mbox{\hyperlink{session_8cpp_source_l00391}{process\+\_\+vectors()}}, \mbox{\hyperlink{session_8cpp_source_l00343}{send\+\_\+int32()}} и \mbox{\hyperlink{session_8cpp_source_l00334}{send\+\_\+uint32()}}.

Граф вызова функции\+:
% FIG 16
\mbox{\Hypertarget{classSession_a25fdf9812d754cbc14ba8ea1afb21724}\label{classSession_a25fdf9812d754cbc14ba8ea1afb21724}} 
\index{Session@{Session}!send\_uint32@{send\_uint32}}
\index{send\_uint32@{send\_uint32}!Session@{Session}}
\doxyparagraph{\texorpdfstring{send\_uint32()}{send\_uint32()}}
{\footnotesize\ttfamily void Session\+::send\+\_\+uint32 (\begin{DoxyParamCaption}\item[{uint32\+\_\+t}]{value }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Отправляет 32-\/битное беззнаковое число 

Отправка 32-\/битного беззнакового числа


\begin{DoxyParams}{Documentation}
{\em value} & Число для отправки\\
\hline
\end{DoxyParams}
\begin{DoxyNote}{Documentation}
Отправляет в сетевом порядке байт 

Не использует htonl() -\/ предполагается что данные уже в правильном порядке 
\end{DoxyNote}


См. определение в файле \mbox{\hyperlink{session_8cpp_source}{session.\+cpp}} строка \mbox{\hyperlink{session_8cpp_source_l00334}{334}}



Перекрестные ссылки \mbox{\hyperlink{session_8cpp_source_l00114}{send\+\_\+text()}}.

Граф вызовов\+:
% FIG 17
\mbox{\Hypertarget{classSession_a5f9689affdf8fa192f5ff21ac2b9198d}\label{classSession_a5f9689affdf8fa192f5ff21ac2b9198d}} 
\index{Session@{Session}!verify\_authentication@{verify\_authentication}}
\index{verify\_authentication@{verify\_authentication}!Session@{Session}}
\doxyparagraph{\texorpdfstring{verify\_authentication()}{verify\_authentication()}}
{\footnotesize\ttfamily bool Session\+::verify\+\_\+authentication (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{login,  }\item[{const std\+::string \&}]{salt,  }\item[{const std\+::string \&}]{received\+\_\+hash }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Проверяет аутентификацию клиента 

Проверка аутентификации клиента


\begin{DoxyParams}{Documentation}
{\em login} & Логин клиента \\
\hline
{\em salt} & Соль для хэширования \\
\hline
{\em received\+\_\+hash} & Полученный хэш от клиента \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Documentation}
bool true если аутентификация успешна
\end{DoxyReturn}

\begin{DoxyParams}{Documentation}
{\em login} & Логин клиента \\
\hline
{\em salt} & Соль (16 hex символов) \\
\hline
{\em received\+\_\+hash} & Хэш от клиента (32 hex символа) \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Documentation}
bool true если аутентификация успешна
\end{DoxyReturn}
Выполняет следующие проверки\+:
\begin{DoxyEnumerate}
\item Существование логина в базе
\item Формат соли и хэша (длина и hex символы)
\item Сравнение MD5(salt + stored\+\_\+password) с полученным хэшем
\end{DoxyEnumerate}

\begin{DoxyNote}{Documentation}
Детально логирует все шаги проверки для отладки 
\end{DoxyNote}


См. определение в файле \mbox{\hyperlink{session_8cpp_source}{session.\+cpp}} строка \mbox{\hyperlink{session_8cpp_source_l00213}{213}}



Перекрестные ссылки \mbox{\hyperlink{session_8cpp_source_l00138}{calculate\+\_\+md5()}}, \mbox{\hyperlink{session_8h_source_l00036}{clients}}, \mbox{\hyperlink{logger_8cpp_source_l00043}{Logger\+::log()}} и \mbox{\hyperlink{session_8h_source_l00037}{logger}}.



Используется в \mbox{\hyperlink{session_8cpp_source_l00391}{process\+\_\+vectors()}}.

Граф вызовов\+:
% FIG 18
Граф вызова функции\+:
% FIG 19


\doxysubsubsection{Documentation}
\mbox{\Hypertarget{classSession_a968ea00cae0e5293555a8223bff7b42d}\label{classSession_a968ea00cae0e5293555a8223bff7b42d}} 
\index{Session@{Session}!client\_socket@{client\_socket}}
\index{client\_socket@{client\_socket}!Session@{Session}}
\doxyparagraph{\texorpdfstring{client\_socket}{client\_socket}}
{\footnotesize\ttfamily int Session\+::client\+\_\+socket\hspace{0.3cm}{\ttfamily [private]}}



Сокет клиента 



См. определение в файле \mbox{\hyperlink{session_8h_source}{session.\+h}} строка \mbox{\hyperlink{session_8h_source_l00035}{35}}



Используется в \mbox{\hyperlink{session_8cpp_source_l00051}{handle()}}, \mbox{\hyperlink{session_8cpp_source_l00068}{receive\+\_\+to\+\_\+buffer()}} и \mbox{\hyperlink{session_8cpp_source_l00114}{send\+\_\+text()}}.

\mbox{\Hypertarget{classSession_a931c068afeec16b499173fa4c558826f}\label{classSession_a931c068afeec16b499173fa4c558826f}} 
\index{Session@{Session}!clients@{clients}}
\index{clients@{clients}!Session@{Session}}
\doxyparagraph{\texorpdfstring{clients}{clients}}
{\footnotesize\ttfamily std\+::unordered\+\_\+map$<$std\+::string, std\+::string$>$\& Session\+::clients\hspace{0.3cm}{\ttfamily [private]}}



Ссылка на базу клиентов 



См. определение в файле \mbox{\hyperlink{session_8h_source}{session.\+h}} строка \mbox{\hyperlink{session_8h_source_l00036}{36}}



Используется в \mbox{\hyperlink{session_8cpp_source_l00213}{verify\+\_\+authentication()}}.

\mbox{\Hypertarget{classSession_aa613cae4a6bcabe30311dcee7f57804e}\label{classSession_aa613cae4a6bcabe30311dcee7f57804e}} 
\index{Session@{Session}!logger@{logger}}
\index{logger@{logger}!Session@{Session}}
\doxyparagraph{\texorpdfstring{logger}{logger}}
{\footnotesize\ttfamily \mbox{\hyperlink{classLogger}{Logger}}\& Session\+::logger\hspace{0.3cm}{\ttfamily [private]}}



Ссылка на логгер 



См. определение в файле \mbox{\hyperlink{session_8h_source}{session.\+h}} строка \mbox{\hyperlink{session_8h_source_l00037}{37}}



Используется в \mbox{\hyperlink{session_8cpp_source_l00051}{handle()}}, \mbox{\hyperlink{session_8cpp_source_l00391}{process\+\_\+vectors()}} и \mbox{\hyperlink{session_8cpp_source_l00213}{verify\+\_\+authentication()}}.

\mbox{\Hypertarget{classSession_aebbafa30bd191ee057424d1fcf5b8c0d}\label{classSession_aebbafa30bd191ee057424d1fcf5b8c0d}} 
\index{Session@{Session}!receive\_buffer@{receive\_buffer}}
\index{receive\_buffer@{receive\_buffer}!Session@{Session}}
\doxyparagraph{\texorpdfstring{receive\_buffer}{receive\_buffer}}
{\footnotesize\ttfamily std\+::string Session\+::receive\+\_\+buffer\hspace{0.3cm}{\ttfamily [private]}}



Буфер накопленных данных 



См. определение в файле \mbox{\hyperlink{session_8h_source}{session.\+h}} строка \mbox{\hyperlink{session_8h_source_l00040}{40}}



Используется в \mbox{\hyperlink{session_8cpp_source_l00094}{extract\+\_\+from\+\_\+buffer\+\_\+exact()}}, \mbox{\hyperlink{session_8cpp_source_l00354}{extract\+\_\+from\+\_\+buffer\+\_\+until\+\_\+non\+\_\+hex()}}, \mbox{\hyperlink{session_8cpp_source_l00391}{process\+\_\+vectors()}} и \mbox{\hyperlink{session_8cpp_source_l00068}{receive\+\_\+to\+\_\+buffer()}}.



Объявления и описания членов классов находятся в файлах\+:\begin{DoxyCompactItemize}
\item 
include/\mbox{\hyperlink{session_8h}{session.\+h}}\item 
src/\mbox{\hyperlink{session_8cpp}{session.\+cpp}}\end{DoxyCompactItemize}
